{"version":3,"sources":["../../src/koa/11.js"],"names":["Koa","require","compose","app","logger","ctx","next","console","log","Date","now","request","method","url","main","response","body","middlewares","use","listen"],"mappings":";;AAAA;;;;;AAKA,IAAMA,MAAMC,QAAQ,KAAR,CAAZ;AACA,IAAMC,UAAUD,QAAQ,aAAR,CAAhB;AACA,IAAME,MAAM,IAAIH,GAAJ,EAAZ;;AAEA,IAAMI,SAAS,SAATA,MAAS,CAACC,GAAD,EAAMC,IAAN,EAAe;AAC5BC,UAAQC,GAAR,CAAeC,KAAKC,GAAL,EAAf,SAA6BL,IAAIM,OAAJ,CAAYC,MAAzC,SAAmDP,IAAIM,OAAJ,CAAYE,GAA/D;AACAP;AACD,CAHD;;AAKA,IAAMQ,OAAO,SAAPA,IAAO,MAAO;AAClBT,MAAIU,QAAJ,CAAaC,IAAb,GAAoB,aAApB;AACD,CAFD;;AAIA,IAAMC,cAAcf,QAAQ,CAACE,MAAD,EAASU,IAAT,CAAR,CAApB;;AAEAX,IAAIe,GAAJ,CAAQD,WAAR;AACAd,IAAIgB,MAAJ,CAAW,IAAX","file":"11.js","sourcesContent":["/**\r\n !c 中间件的合成\r\n ?c koa-compose模块可以将多个中间件合并成一个 \r\n */\r\n\r\nconst Koa = require('koa')\r\nconst compose = require('koa-compose')\r\nconst app = new Koa()\r\n\r\nconst logger = (ctx, next) => {\r\n  console.log(`${Date.now()} ${ctx.request.method} ${ctx.request.url}`)\r\n  next()\r\n}\r\n\r\nconst main = ctx => {\r\n  ctx.response.body = 'Hello World'\r\n}\r\n\r\nconst middlewares = compose([logger, main])\r\n\r\napp.use(middlewares)\r\napp.listen(3000)\r\n\r\n"]}