{"version":3,"sources":["../../src/koa/17.js"],"names":["Koa","require","app","main","ctx","response","body","throw","on","err","console","error","use","listen"],"mappings":";;AAAA;;;;;;AAMA,IAAMA,MAAMC,QAAQ,KAAR,CAAZ;AACA,IAAMC,MAAM,IAAIF,GAAJ,EAAZ;;AAEA,IAAMG,OAAO,SAAPA,IAAO,MAAO;AAClBC,MAAIC,QAAJ,CAAaC,IAAb,GAAoB,aAApB;AACAF,MAAIG,KAAJ,CAAU,GAAV;AACD,CAHD;;AAKAL,IAAIM,EAAJ,CAAO,OAAP,EAAgB,UAACC,GAAD,EAAML,GAAN,EAAc;AAC5BM,UAAQC,KAAR,CAAc,cAAd,EAA8BF,GAA9B;AACD,CAFD;;AAIAP,IAAIU,GAAJ,CAAQT,IAAR;AACAD,IAAIW,MAAJ,CAAW,IAAX","file":"17.js","sourcesContent":["/**\r\n !c error事件监听\r\n ?c 运行过程中一旦出错，Koa会触发一个error事件。\r\n ?c 监听这个事件，也可以处理错误\r\n */\r\n\r\nconst Koa = require('koa')\r\nconst app = new Koa()\r\n\r\nconst main = ctx => {\r\n  ctx.response.body = 'Hello World'\r\n  ctx.throw(500)\r\n}\r\n\r\napp.on('error', (err, ctx) => {\r\n  console.error('server error', err)\r\n})\r\n\r\napp.use(main)\r\napp.listen(3000)\r\n"]}