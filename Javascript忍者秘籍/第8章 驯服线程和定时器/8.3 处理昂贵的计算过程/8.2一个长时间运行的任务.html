<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>处理昂贵的计算过程</title>
</head>
<body>
  <!-- 
      Js的单线程本质可能是Js复杂应用程序开发中最大的"陷阱"。
      在Js执行繁忙的时候，浏览器中的用户交互，最好的情况是操作稍有缓慢，最坏是反应迟钝。
      这可能导致浏览器很卡或者挂掉，因为在Js执行时，页面渲染的所用更新操作都会挂掉。

      因此，保持良好的响应能力，减少运行时间超过几百毫秒的复杂操作，将其控制在可管理状态是很必要的。
      此外，如果一段脚本的运行时间超过5秒，某些浏览器可能无法响应，IE会停止该脚本。

      此时，定时器特别有用。在一段时间后，可以有效暂停一段Js代码的执行，
      定时器还可以将代码的各部分，分解成不会让浏览器挂掉的部分。
   -->
  <table>
    <tbody></tbody>
  </table>

  <script>
    var tbody = document.getElementsByTagName("tbody")[0];
    // 我们在该元素上创建大量的行元素
    for ( var i=0; i<20000; i++ ) {
      var tr = document.createElement("tr");

      for ( var t=0; t<6; t++ ) {
        var td = document.createElement("td");
        td.appendChild(document.createTextNode(i + "," + t));
        tr.appendChild(td);
      }
      tbody.appendChild(tr)
    }
  </script>
</body>
</html>