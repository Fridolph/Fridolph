<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>闭包与内存管理</title>
</head>
<body>
  <!-- 
      闭包是一个非常强大特性。 局部变量本应在函数退出时被解除引用，但若局部变量被封闭在闭包形成的环境中
      那么这个局部变量就能一直生存下去。 这样看，闭包确实会使一些数据无法被及时销毁。

      使用闭包的一部分原因是我们选择主动把一些变量封闭在闭包中因为可能在以后还需要使用这些变量
      把变量放在闭包和全局作用域，对内存的影响是一致的，
      这里不能说是内存泄漏，若将来需回收这些变量，手动设置变量为null即可。

      闭包和内存泄漏有关系的地方是，使用闭包的同时比较容易形成循环引用，如果闭包的作用域链中保存着一些DOM节点
      就有可能造成内存泄漏。 在IE浏览器中，由于BOM和DOM的对象是使用C++COM对象的方式实现的，
      而COM对象的垃圾回收机制采用的是引用计数策略。基于此的垃圾回收机制中，如果两个对象之间形成循环引用，
      那么这两个对象都无法被回收，但循环引用造成的内存泄漏在本质上也不是闭包造成的。

      同样，如果要解决循环引用带来的内存泄漏问题，我们只需要把循环引用中的变量设为null即可。
      将变量设为null, 意味着切断变量与它此前引用的值之间的连接。
      当垃圾收集器下次运行时，就会删除这些值并回收它们占用的内存。
   -->
</body>
</html>