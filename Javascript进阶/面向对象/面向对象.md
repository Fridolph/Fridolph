> 面向对象应该是一种思想，而不是代码的组织形式。

面向对象的特点：

* 封装
* 继承
* 多态

子类继承了父类的函数，同时覆盖实现了父类的某些行为。上面的setProgress函数即体现了多态又体现了继承

### 继承和组合

集成商为了实现复用，组合其实也是为了实现复用。继承是is-a的关系，而组合是has-a的关系。

可以吧上面的ProgressBar改成组合的方式。 见demo2

在构造函数里面组合了一个progressBar的实例，然后在setProgress函数里面利用这个实例去设置进度条的百分比。

**偏向于使用组合而非继承**

因为继承的耦合性要大于组合，组合更加灵活。继承是编译阶段就决定了关系，而组合是运行阶段才决定关系。

### 面向对象编程原则和设计模式

1. 单例模式

参考 demo/pattern.js

每次get的时候先判断mapTask有没有Task的新实例，如果没有则为第一次。先去实例化一个，并做些初始化工作，如果有则直接返回。然后执行mapTask.get()的时候就能够保证获取到的是一个单例。

* 破坏单例

        mapTask.aTask = null


2. 策略模式

场景：注册弹框，不同的弹框文字。把文案当做一个个的策略，使用时根据不同类型，映射到不同的策略。
这样比写if-else或者switch的好处在于：如果以后要增加或删除某种类型，只需要增删一个type就可以了，而不用去改动if-else逻辑。这就叫做开放封闭原则——对修改是封闭的，而对扩展是开放的。

3. 观察者模式

观察者向消息的接受者订阅消息，一旦接受者收到消息后就把消息下发给它的观察者们。在一个地图回执搜索的应用里面，单击最后一个点关闭路径，要触发搜索。
但其实不用去手动调用搜索的接口，因为地图本身就监听了`drag_end`事件，在这个事件里面会去搜索，所以在绘制完成之后只要执行如代码 observe2 所示：

