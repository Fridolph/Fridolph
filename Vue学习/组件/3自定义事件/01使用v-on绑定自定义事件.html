<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>01使用v-on绑定自定义事件</title>
</head>
<body>
<!--
    每个Vue实例都实现了事件接口 Events interface, 即：
    使用 $on(eventName) 监听事件
    使用 $emit(eventName) 触发事件

    另外，父组件可以在使用子组件的地方直接用 v-on 来监听子组件触发的事件，例：
 -->
<div id="counter-event-example">
  <p>{{ total }}</p>
  <button-counter @increment="incrementTotal"></button-counter>
  <button-counter @increment="incrementTotal"></button-counter>
</div>
<!-- vue.js -->
<script src="../../vendor/vue.js"></script>
<script>      
  Vue.component('button-counter', {
    template: '<button @click="increment">{{ counter }}</button>',
    data: function() {
      return {
        counter: 0
      }
    },
    methods: {
      increment: function() {
        this.counter += 1
        this.$emit('increment')
      }
    },
  })

  new Vue({
    el: '#counter-event-example',
    data: {
      total: 0
    },
    methods: {
      incrementTotal: function() {
        this.total += 1
      }
    }
  })
</script>
</body>
</html>