// IIFE的好处：
// 避免污染全局命名空间，
(function() {
  var a = 10;

  function $() {
    alert(a)
  }

  window.$ = $;
})()

// alert(a);
$();


--------  实例方法  ----------
$().css()
$().html()

--------  静态方法  ----------
$.trim()
$.proxy()

区别： 
静态方法在jquery中更为底层
实例方法只能给$对象用，静态方法原生js也能用

---

Sizzle 复杂选择器的实现
$("ul li + p input.class")

--- Callbacks 回调对象

function fn1() {alert(1)}
function fn2() {alert(2)}

var cb = $.Callbacks();

cb.add(fn1);
cb.add(fn2);

cb.fire() // 1, 2

cb.remove(fn2)

cb.fire() // 1

--- Deferred 延迟对象

setTimeout(function() {
  alert(1)
},1000)

alert(2)


var dfd = $.Deferred();

setTimeout(function() {
  alert(1);

  dfd.resolve();  
},1000)

dfd.done(function() {
  alert(2);
})

---

$("#div1").data('name', 'hello');

$("#div1").data('name'); // hello

---

queue

$("#div1").animate({left: 100})
$("#div1").animate({top: 100})
$("#div1").animate({width: 100})



普通面向对象写法:

function A() {}

A.prototype.init = function() {
  // ...
}
A.prototype.css = function() {
  // ...
}

var a = new A();
a.init();
a.css();

jQuery中的链式调用

// jQuery().css()

function jQuery() {
  return new jQuery.prototype.init()
}

jQuery.prototype.init = function() {}
jQuery.prototype.css = function() {}

jQuery.fn.init.prototype = jQuery.prototype;


// 防止 XSS 漏洞
rquickExpr = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/     

// 获取无意义的空标签
rsingleTag = /^<(\w+)\s*\/?>(?:<\/\1>|)$/

// -ms-开头的前缀
rmsPrefix = /^-ms-/


