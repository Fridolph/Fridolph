<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
</head>
<body>
  <input type="text" id="main" />
</body>

<script>
var obj = document.getElementById("main");

var items = ["click", "keypress"];

for (var i=0; i<items.length; i++) {

  // 利用自执行的匿名函数生成作用域
  (function() {

    // 记住作用域中的值，在该作用域中的每个item的值都是唯一的, 不依赖父级上下文所创建的变量
    var item = items[i];

    // 为元素绑定函数
    obj['on' + item] = function() {

      // item指向的是处于for循环上下文中的父变量
      console.log('Thanks for your ' + item);
    }
  })()
}
</script>
</html>